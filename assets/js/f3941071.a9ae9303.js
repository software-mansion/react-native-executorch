"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9278],{8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(6540);const i={},d=o.createContext(i);function r(e){const t=o.useContext(d);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(d.Provider,{value:t},e.children)}},8489:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"typescript-api/ImageEmbeddingsModule","title":"ImageEmbeddingsModule","description":"TypeScript API implementation of the useImageEmbeddings hook.","source":"@site/docs/typescript-api/ImageEmbeddingsModule.md","sourceDirName":"typescript-api","slug":"/typescript-api/ImageEmbeddingsModule","permalink":"/react-native-executorch/docs/next/typescript-api/ImageEmbeddingsModule","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-executorch/edit/main/docs/docs/typescript-api/ImageEmbeddingsModule.md","tags":[],"version":"current","frontMatter":{"title":"ImageEmbeddingsModule"},"sidebar":"tutorialSidebar","previous":{"title":"StyleTransferModule","permalink":"/react-native-executorch/docs/next/typescript-api/StyleTransferModule"},"next":{"title":"ExecuTorch bindings","permalink":"/react-native-executorch/docs/next/category/executorch-bindings-1"}}');var i=n(4848),d=n(8453);const r={title:"ImageEmbeddingsModule"},s=void 0,c={},a=[{value:"Reference",id:"reference",level:2},{value:"Methods",id:"methods",level:3},{value:"Loading the model",id:"loading-the-model",level:2},{value:"Running the model",id:"running-the-model",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["TypeScript API implementation of the ",(0,i.jsx)(t.a,{href:"/react-native-executorch/docs/next/computer-vision/useImageEmbeddings",children:"useImageEmbeddings"})," hook."]}),"\n",(0,i.jsx)(t.h2,{id:"reference",children:"Reference"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"import {\n  ImageEmbeddingsModule,\n  CLIP_VIT_BASE_PATCH_32_IMAGE_ENCODER,\n} from 'react-native-executorch';\n\n// Loading the model\nawait ImageEmbeddingsModule.load(CLIP_VIT_BASE_PATCH_32_IMAGE_ENCODER);\n\n// Running the model\nconst embedding = await ImageEmbeddingsModule.forward(\n  'https://url-to-image.jpg'\n);\n"})}),"\n",(0,i.jsx)(t.h3,{id:"methods",children:"Methods"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Method"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"load"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"(modelSource: ResourceSource): Promise<void>"})}),(0,i.jsxs)(t.td,{children:["Loads the model, where ",(0,i.jsx)(t.code,{children:"modelSource"})," is a string that specifies the location of the model binary."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"forward"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"(input: string): Promise<number[]>"})}),(0,i.jsxs)(t.td,{children:["Executes the model's forward pass, where ",(0,i.jsx)(t.code,{children:"input"})," is a URI/URL to image that will be embedded."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"onDownloadProgress"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"(callback: (downloadProgress: number) => void): any"})}),(0,i.jsx)(t.td,{children:"Subscribe to the download progress event."})]})]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:"Type definitions"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"type ResourceSource = string | number | object;\n"})})]}),"\n",(0,i.jsx)(t.h2,{id:"loading-the-model",children:"Loading the model"}),"\n",(0,i.jsxs)(t.p,{children:["To load the model, use the ",(0,i.jsx)(t.code,{children:"load"})," method. It accepts the ",(0,i.jsx)(t.code,{children:"modelSource"})," which is a string that specifies the location of the model binary. For more information, take a look at ",(0,i.jsx)(t.a,{href:"/react-native-executorch/docs/next/fundamentals/loading-models",children:"loading models"})," page. This method returns a promise, which can resolve to an error or void."]}),"\n",(0,i.jsx)(t.h2,{id:"running-the-model",children:"Running the model"}),"\n",(0,i.jsx)(t.p,{children:"It accepts one argument, which is a URI/URL to an image you want to encode. The function returns a promise, which can resolve either to an error or an array of numbers representing the embedding."}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"The returned embedding vector is normalized, meaning that its length is equal to 1. This allows for easier comparison of vectors using cosine similarity, just calculate the dot product of two vectors to get the cosine similarity score."})})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);