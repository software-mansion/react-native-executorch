"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[42437],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const o={},a=r.createContext(o);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:n},e.children)}},75460:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"fundamentals/loading-models","title":"Loading Models","description":"There are three different methods available for loading model files, depending on their size and location.","source":"@site/docs/01-fundamentals/02-loading-models.md","sourceDirName":"01-fundamentals","slug":"/fundamentals/loading-models","permalink":"/react-native-executorch/docs/next/fundamentals/loading-models","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-executorch/edit/main/docs/docs/01-fundamentals/02-loading-models.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Loading Models"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/react-native-executorch/docs/next/fundamentals/getting-started"},"next":{"title":"Frequently Asked Questions","permalink":"/react-native-executorch/docs/next/fundamentals/frequently-asked-questions"}}');var o=t(74848),a=t(28453);const s={title:"Loading Models"},i=void 0,c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Predefined Models",id:"predefined-models",level:2},{value:"Example",id:"example",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"There are three different methods available for loading model files, depending on their size and location."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.p,{children:"In our library, you can use two different resource fetching mechanisms. One is implemented using Expo FileSystem, the other one uses external library. We encourage you to use implementation utilizing Expo if possible."}),"\n",(0,o.jsx)(n.p,{children:"To use the Expo adapter, please add these libraries:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add @react-native-executorch/expo-adapter\nyarn add expo-file-system expo-asset\n"})}),"\n",(0,o.jsx)(n.p,{children:"and then add the following code in your React Native app:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { initExecutorch } from 'react-native-executorch';\nimport { ExpoResourceFetcher } from '@react-native-executorch/expo-resource-fetcher';\n\ninitExecutorch({\n  resourceFetcher: ExpoResourceFetcher,\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:"If you cannot use Expo in your project, proceed with the following steps:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add @react-native-executorch/bare-adapter\nyarn add @dr.pogodin/react-native-fs @kesha-antonov/react-native-background-downloader\n"})}),"\n",(0,o.jsx)(n.p,{children:"and"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { initExecutorch } from 'react-native-executorch';\nimport { BareResourceFetcher } from '@react-native-executorch/bare-adapter';\n\ninitExecutorch({\n  resourceFetcher: BareResourceFetcher,\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"1. Load from React Native assets folder (For Files < 512MB)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"useExecutorchModule({\n  modelSource: require('../assets/llama3_2.pte'),\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"2. Load from remote URL:"})}),"\n",(0,o.jsx)(n.p,{children:"For files larger than 512MB or when you want to keep size of the app smaller, you can load the model from a remote URL (e.g. HuggingFace)."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"useExecutorchModule({\n  modelSource: 'https://.../llama3_2.pte',\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"3. Load from local file system:"})}),"\n",(0,o.jsx)(n.p,{children:"If you prefer to delegate the process of obtaining and loading model and tokenizer files to the user, you can use the following method:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"useExecutorchModule({\n  modelSource: 'file:///var/mobile/.../llama3_2.pte',\n});\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"The downloaded files are stored in documents directory of your application."})}),"\n",(0,o.jsx)(n.h2,{id:"predefined-models",children:"Predefined Models"}),"\n",(0,o.jsxs)(n.p,{children:["Our library offers out-of-the-box support for multiple models. To make things easier, we created aliases for our model exported to ",(0,o.jsx)(n.code,{children:"pte"})," format. For full list of aliases, check out: ",(0,o.jsx)(n.a,{href:"/react-native-executorch/docs/next/api-reference/#models---classification",children:"API Reference"})]}),"\n",(0,o.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,o.jsxs)(n.p,{children:["The following code snippet demonstrates how to load model and tokenizer files using ",(0,o.jsx)(n.code,{children:"useLLM"})," hook:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useLLM } from 'react-native-executorch';\n\nconst llama = useLLM({\n  modelSource: 'https://.../llama3_2.pte',\n  tokenizerSource: require('../assets/tokenizer.bin'),\n});\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);