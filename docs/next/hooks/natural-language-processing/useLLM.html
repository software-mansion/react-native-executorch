<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-hooks/natural-language-processing/useLLM" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">useLLM | React Native ExecuTorch</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.swmansion.com/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="useLLM | React Native ExecuTorch"><meta data-rh="true" name="description" content="Learn how to use LLMs in your React Native applications with React Native ExecuTorch&#x27;s useLLM hook."><meta data-rh="true" property="og:description" content="Learn how to use LLMs in your React Native applications with React Native ExecuTorch&#x27;s useLLM hook."><meta data-rh="true" name="keywords" content="react native,react native ai,react native llm,react native qwen,react native llama,react native executorch,executorch,pytorch,on-device ai,mobile ai,llama 3,qwen,text generation,tool calling,function calling"><meta data-rh="true" property="og:image" content="https://docs.swmansion.com/react-native-executorch/img/og/usellm.png"><meta data-rh="true" name="twitter:image" content="https://docs.swmansion.com/react-native-executorch/img/og/usellm.png"><link data-rh="true" rel="icon" href="/react-native-executorch/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.swmansion.com/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM"><link data-rh="true" rel="alternate" href="https://docs.swmansion.com/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.swmansion.com/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9PIVJVUUXB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TJND8QJM9P"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TJND8QJM9P",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="React Native ExecuTorch" href="/react-native-executorch/opensearch.xml"><link rel="stylesheet" href="/react-native-executorch/assets/css/styles.cd98c2fd.css">
<script src="/react-native-executorch/assets/js/runtime~main.662f9504.js" defer="defer"></script>
<script src="/react-native-executorch/assets/js/main.beafb087.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top _navbarHideable_2jugh_1"><div class="navbar__inner"><div class="navbar__items"><div class="_logoWrapper_ys6jl_23"><div class="_logoWrapper_u0hvy_55"><a href="/react-native-executorch/"><div class="_navbar__logo_u0hvy_1"><img src="/react-native-executorch/img/logo-hero.svg" alt="React Native ExecuTorch" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-executorch/img/logo-hero.svg" alt="React Native ExecuTorch" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="navbar__title text--truncate _navbar__title_u0hvy_39"><img src="/react-native-executorch/img/title.svg" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-executorch/img/title-dark.svg" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div></div><div class="_navbarSearchWrapper_1oj0n_1"><div class="_navbarSearch_1oj0n_1 _searchBox_1oeys_2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="_toggle_1sfyd_1 _colorModeToggle_ys6jl_28"><button class="clean-btn _toggleButton_1sfyd_8" type="button" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><div class="_iconContainer_1sfyd_41 _lightToggleIcon_1sfyd_70"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg></div><div class="_iconContainer_1sfyd_41 _darkIconContainer_1sfyd_61 _darkToggleIcon_1sfyd_69"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div></button></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-executorch/docs">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/react-native-executorch/docs/next">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM">Next</a></li><li><a class="dropdown__link" href="/react-native-executorch/docs/hooks/natural-language-processing/useLLM">0.5.x</a></li><li><a class="dropdown__link" href="/react-native-executorch/docs/0.4.x/fundamentals/getting-started">0.4.x</a></li><li><a class="dropdown__link" href="/react-native-executorch/docs/0.3.x">0.3.x</a></li><li><a class="dropdown__link" href="/react-native-executorch/docs/0.2.x">0.2.x</a></li><li><a class="dropdown__link" href="/react-native-executorch/docs/0.1.x">0.1.x</a></li></ul></div><a href="https://discord.gg/ZGqqY55qkP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord" aria-label="Discord server"></a><a href="https://github.com/software-mansion/react-native-executorch" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github" aria-label="GitHub repository"></a><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="_sidebar_1ccyh_2 _sidebarWithHideableNavbar_1ccyh_12"><div class="_logoWrapper_u0hvy_55"><a href="/react-native-executorch/"><div class="_sidebarLogo_1ccyh_21 _navbar__logo_u0hvy_1"><img src="/react-native-executorch/img/logo-hero.svg" alt="React Native ExecuTorch" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-executorch/img/logo-hero.svg" alt="React Native ExecuTorch" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="_navbar__title_u0hvy_39"><img src="/react-native-executorch/img/title.svg" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-executorch/img/title-dark.svg" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar _menu_14x8a_2"><ul class="theme-doc-sidebar-menu menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/react-native-executorch/docs/next/category/fundamentals">Fundamentals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next">Getting Started</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/fundamentals/loading-models">Loading Models</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/fundamentals/frequently-asked-questions">Frequently Asked Questions</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/react-native-executorch/docs/next/category/hooks">Hooks</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/react-native-executorch/docs/next/category/natural-language-processing">Natural Language Processing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useLLM">useLLM</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useSpeechToText">useSpeechToText</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useTextEmbeddings">useTextEmbeddings</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useTokenizer">useTokenizer</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/category/computer-vision">Computer Vision</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useClassification">useClassification</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useImageEmbeddings">useImageEmbeddings</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useImageSegmentation">useImageSegmentation</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useOCR">useOCR</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useObjectDetection">useObjectDetection</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useStyleTransfer">useStyleTransfer</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/computer-vision/useVerticalOCR">useVerticalOCR</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/category/executorch-bindings">ExecuTorch Bindings</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/hooks/executorch-bindings/useExecutorchModule">useExecutorchModule</a></li></div></ul></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/react-native-executorch/docs/next/category/typescript-api">TypeScript API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/category/natural-language-processing-1">Natural Language Processing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/natural-language-processing/LLMModule">LLMModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/natural-language-processing/SpeechToTextModule">SpeechToTextModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/natural-language-processing/TextEmbeddingsModule">TextEmbeddingsModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/natural-language-processing/TokenizerModule">TokenizerModule</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/category/computer-vision-1">Computer Vision</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/ClassificationModule">ClassificationModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/ImageEmbeddingsModule">ImageEmbeddingsModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/ImageSegmentationModule">ImageSegmentationModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/OCRModule">OCRModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/ObjectDetectionModule">ObjectDetectionModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/StyleTransferModule">StyleTransferModule</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/computer-vision/VerticalOCRModule">VerticalOCRModule</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/category/executorch-bindings-1">ExecuTorch Bindings</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/typescript-api/executorch-bindings/ExecutorchModule">ExecutorchModule</a></li></div></ul></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/react-native-executorch/docs/next/category/benchmarks">Benchmarks</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/benchmarks/inference-time">Inference Time</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/benchmarks/memory-usage">Memory Usage</a></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/benchmarks/model-size">Model Size</a></li></div></ul></li></div><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/react-native-executorch/docs/next/category/utilities">Utilities</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><div class="_wrapper_19jsa_1"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-executorch/docs/next/utilities/resource-fetcher">Resource Fetcher</a></li></div></ul></li></div></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->React Native ExecuTorch<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/react-native-executorch/docs/hooks/natural-language-processing/useLLM">latest version</a></b> (<!-- -->0.5.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="_toc_mobile__wrapper_6l895_2"><div class="_tocCollapsible_mns7p_1 theme-doc-toc-mobile"><button type="button" class="clean-btn _tocCollapsibleButton_60uzn_1">On this page</button></div></div><div class="theme-doc-markdown markdown"><header><h1>useLLM</h1></header><p>React Native ExecuTorch supports a variety of LLMs (checkout our <a href="https://huggingface.co/software-mansion" target="_blank" rel="noopener noreferrer">HuggingFace repository</a> for model already converted to ExecuTorch format) including Llama 3.2. Before getting started, you’ll need to obtain the .pte binary—a serialized model, the tokenizer and tokenizer config JSON files. There are various ways to accomplish this:</p>
<ul>
<li>For your convenience, it&#x27;s best if you use models exported by us, you can get them from our <a href="https://huggingface.co/software-mansion" target="_blank" rel="noopener noreferrer">HuggingFace repository</a>. You can also use <a href="https://github.com/software-mansion/react-native-executorch/blob/main/packages/react-native-executorch/src/constants/modelUrls.ts" target="_blank" rel="noopener noreferrer">constants</a> shipped with our library.</li>
<li>Follow the official <a href="https://github.com/pytorch/executorch/blob/release/0.7/examples/demo-apps/android/LlamaDemo/docs/delegates/xnnpack_README.md" target="_blank" rel="noopener noreferrer">tutorial</a> made by ExecuTorch team to build the model and tokenizer yourself.</li>
</ul>
<div class="theme-admonition theme-admonition-danger _admonition_pwd5f_1 alert alert--danger"><div class="_admonitionHeading_pwd5f_10"><span class="_admonitionIcon_pwd5f_23"><img src="data:image/svg+xml,%3csvg%20width=&#x27;21&#x27;%20height=&#x27;20&#x27;%20viewBox=&#x27;0%200%2021%2020&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M10.5%2014.99V15&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10.5%205V12&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10.5%2019C15.4706%2019%2019.5%2014.9706%2019.5%2010C19.5%205.02944%2015.4706%201%2010.5%201C5.52944%201%201.5%205.02944%201.5%2010C1.5%2014.9706%205.52944%2019%2010.5%2019Z&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="data:image/svg+xml,%3csvg%20width=&#x27;20&#x27;%20height=&#x27;20&#x27;%20viewBox=&#x27;0%200%2020%2020&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M10%2014.99V15&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10%205V12&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10%2019C14.9706%2019%2019%2014.9706%2019%2010C19%205.02944%2014.9706%201%2010%201C5.02944%201%201%205.02944%201%2010C1%2014.9706%205.02944%2019%2010%2019Z&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></span>danger</div><div class="_admonitionContent_pwd5f_36"><p>Lower-end devices might not be able to fit LLMs into memory. We recommend using quantized models to reduce the memory footprint.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="initializing">Initializing<a href="#initializing" class="hash-link" aria-label="Direct link to Initializing" title="Direct link to Initializing">​</a></h2>
<p>In order to load a model into the app, you need to run the following code:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">LLAMA3_2_1B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">from</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;react-native-executorch&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">LLAMA3_2_1B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<p>The code snippet above fetches the model from the specified URL, loads it into memory, and returns an object with various functions and properties for controlling the model. You can monitor the loading progress by checking the <code>llm.downloadProgress</code> and <code>llm.isReady</code> property, and if anything goes wrong, the <code>llm.error</code> property will contain the error message.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="arguments">Arguments<a href="#arguments" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h3>
<p><strong><code>model</code></strong> - Object containing the model source, tokenizer source, and tokenizer config source.</p>
<ul>
<li>
<p><strong><code>modelSource</code></strong> - <code>ResourceSource</code> that specifies the location of the model binary.</p>
</li>
<li>
<p><strong><code>tokenizerSource</code></strong> - <code>ResourceSource</code> pointing to the JSON file which contains the tokenizer.</p>
</li>
<li>
<p><strong><code>tokenizerConfigSource</code></strong> - <code>ResourceSource</code> pointing to the JSON file which contains the tokenizer config.</p>
</li>
</ul>
<p><strong><code>preventLoad?</code></strong> - Boolean that can prevent automatic model loading (and downloading the data if you load it for the first time) after running the hook.</p>
<p>For more information on loading resources, take a look at <a href="/react-native-executorch/docs/next/fundamentals/loading-models">loading models</a> page.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="returns">Returns<a href="#returns" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>generate()</code></td><td><code>(messages: Message[], tools?: LLMTool[]) =&gt; Promise&lt;void&gt;</code></td><td>Runs model to complete chat passed in <code>messages</code> argument. It doesn&#x27;t manage conversation context.</td></tr><tr><td><code>interrupt()</code></td><td><code>() =&gt; void</code></td><td>Function to interrupt the current inference.</td></tr><tr><td><code>response</code></td><td><code>string</code></td><td>State of the generated response. This field is updated with each token generated by the model.</td></tr><tr><td><code>token</code></td><td><code>string</code></td><td>The most recently generated token.</td></tr><tr><td><code>isReady</code></td><td><code>boolean</code></td><td>Indicates whether the model is ready.</td></tr><tr><td><code>isGenerating</code></td><td><code>boolean</code></td><td>Indicates whether the model is currently generating a response.</td></tr><tr><td><code>downloadProgress</code></td><td><code>number</code></td><td>Represents the download progress as a value between 0 and 1, indicating the extent of the model file retrieval.</td></tr><tr><td><code>error</code></td><td><code>string | null</code></td><td>Contains the error message if the model failed to load.</td></tr><tr><td><code>configure</code></td><td><code>({ chatConfig?: Partial&lt;ChatConfig&gt;, toolsConfig?: ToolsConfig }) =&gt; void</code></td><td>Configures chat and tool calling. See more details in <a href="#configuring-the-model">configuring the model</a>.</td></tr><tr><td><code>sendMessage</code></td><td><code>(message: string) =&gt; Promise&lt;void&gt;</code></td><td>Function to add user message to conversation. After model responds, <code>messageHistory</code> will be updated with both user message and model response.</td></tr><tr><td><code>deleteMessage</code></td><td><code>(index: number) =&gt; void</code></td><td>Deletes all messages starting with message on <code>index</code> position. After deletion <code>messageHistory</code> will be updated.</td></tr><tr><td><code>messageHistory</code></td><td><code>Message[]</code></td><td>History containing all messages in conversation. This field is updated after model responds to <code>sendMessage</code>.</td></tr></tbody></table>
<details data-collapsed="true" class="details_u6nH"><summary><img src="/react-native-executorch/img/Arrow.svg" class="arrow_KNoC themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-executorch/img/Arrow-dark.svg" class="arrow_KNoC themedComponent_mlkZ themedComponent--dark_xIcU"><p>Type definitions</p></summary><div><div class="collapsibleContent_jnPl"><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  model</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  preventLoad</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    modelSource</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> ResourceSource</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    tokenizerSource</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> ResourceSource</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    tokenizerConfigSource</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> ResourceSource</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  preventLoad</span><span class="token operator" style="color:var(--swm-red-light-80)">?</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> LLMType</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">interface</span><span class="token plain"> </span><span class="token class-name">LLMType</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  messageHistory</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> Message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  response</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  token</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  isReady</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  isGenerating</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  downloadProgress</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  error</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">null</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">configure</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    chatConfig</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    toolsConfig</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    chatConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">?</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> Partial</span><span class="token operator" style="color:var(--swm-red-light-80)">&lt;</span><span class="token plain">ChatConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    toolsConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">?</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> ToolsConfig</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">void</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">generate</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">messages</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> Message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> tools</span><span class="token operator" style="color:var(--swm-red-light-80)">?</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> LLMTool</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:var(--swm-red-light-80)">&lt;</span><span class="token keyword" style="color:var(--swm-blue-light-80)">void</span><span class="token operator" style="color:var(--swm-red-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">sendMessage</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">message</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:var(--swm-red-light-80)">&lt;</span><span class="token keyword" style="color:var(--swm-blue-light-80)">void</span><span class="token operator" style="color:var(--swm-red-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">deleteMessage</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">index</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">void</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">interrupt</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">void</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">type</span><span class="token plain"> </span><span class="token class-name">ResourceSource</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> object</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">type</span><span class="token plain"> </span><span class="token class-name">MessageRole</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;user&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;assistant&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;system&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">interface</span><span class="token plain"> </span><span class="token class-name">Message</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> MessageRole</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">interface</span><span class="token plain"> </span><span class="token class-name">ChatConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  initialMessageHistory</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> Message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  contextWindowLength</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  systemPrompt</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// tool calling</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">interface</span><span class="token plain"> </span><span class="token class-name">ToolsConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  tools</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> LLMTool</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">executeToolCallback</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">call</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> ToolCall</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:var(--swm-red-light-80)">&lt;</span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">|</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">null</span><span class="token operator" style="color:var(--swm-red-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  displayToolCalls</span><span class="token operator" style="color:var(--swm-red-light-80)">?</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">interface</span><span class="token plain"> </span><span class="token class-name">ToolCall</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  toolName</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  arguments</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> Object</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">type</span><span class="token plain"> </span><span class="token class-name">LLMTool</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> Object</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="functional-vs-managed">Functional vs managed<a href="#functional-vs-managed" class="hash-link" aria-label="Direct link to Functional vs managed" title="Direct link to Functional vs managed">​</a></h2>
<p>You can use functions returned from this hooks in two manners:</p>
<ol>
<li>
<p>Functional/pure - we will not keep any state for you. You&#x27;ll need to keep conversation history and handle function calling yourself. Use <code>generate</code> (and rarely <code>forward</code>) and <code>response</code>. Note that you don&#x27;t need to run <code>configure</code> to use those. Furthermore, it will not have any effect on those functions.</p>
</li>
<li>
<p>Managed/stateful - we will manage conversation state. Tool calls will be parsed and called automatically after passing appropriate callbacks. See more at <a href="#managed-llm-chat">managed LLM chat</a>.</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="functional-way">Functional way<a href="#functional-way" class="hash-link" aria-label="Direct link to Functional way" title="Direct link to Functional way">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="simple-generation">Simple generation<a href="#simple-generation" class="hash-link" aria-label="Direct link to Simple generation" title="Direct link to Simple generation">​</a></h3>
<p>To perform chat completion you can use the <code>generate</code> function. There is no return value. Instead, the <code>response</code> value is updated with each token.</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">LLAMA3_2_1B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">handleGenerate</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> chat</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;system&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;You are a helpful assistant&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;user&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Hi!&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;assistant&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Hi!, how can I help you?&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;user&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;What is the meaning of life?&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// Chat completion</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">generate</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">chat</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Button</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:var(--swm-green-light-80)">=</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token tag script language-javascript" style="color:var(--swm-navy-light-40)">handleGenerate</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--swm-green-light-80)">=</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag attr-value" style="color:var(--swm-red-light-80)">Generate!</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="interrupting-the-model">Interrupting the model<a href="#interrupting-the-model" class="hash-link" aria-label="Direct link to Interrupting the model" title="Direct link to Interrupting the model">​</a></h3>
<p>Sometimes, you might want to stop the model while it’s generating. To do this, you can use <code>interrupt()</code>, which will halt the model and update the response one last time.</p>
<p>There are also cases when you need to check if tokens are being generated, such as to conditionally render a stop button. We’ve made this easy with the <code>isGenerating</code> property.</p>
<div class="theme-admonition theme-admonition-caution _admonition_pwd5f_1 alert alert--warning"><div class="_admonitionHeading_pwd5f_10"><span class="_admonitionIcon_pwd5f_23"><img src="data:image/svg+xml,%3csvg%20width=&#x27;21&#x27;%20height=&#x27;20&#x27;%20viewBox=&#x27;0%200%2021%2020&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M10.5%2014.99V15&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10.5%205V12&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10.5%2019C15.4706%2019%2019.5%2014.9706%2019.5%2010C19.5%205.02944%2015.4706%201%2010.5%201C5.52944%201%201.5%205.02944%201.5%2010C1.5%2014.9706%205.52944%2019%2010.5%2019Z&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="data:image/svg+xml,%3csvg%20width=&#x27;20&#x27;%20height=&#x27;20&#x27;%20viewBox=&#x27;0%200%2020%2020&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M10%2014.99V15&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10%205V12&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M10%2019C14.9706%2019%2019%2014.9706%2019%2010C19%205.02944%2014.9706%201%2010%201C5.02944%201%201%205.02944%201%2010C1%2014.9706%205.02944%2019%2010%2019Z&#x27;%20stroke=&#x27;%23F8F9FF&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></span>caution</div><div class="_admonitionContent_pwd5f_36"><p>If you try to dismount the component using this hook while generation is still going on, it will result in crash.
You&#x27;ll need to interrupt the model first and wait until <code>isGenerating</code> is set to false.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tool-calling">Tool calling<a href="#tool-calling" class="hash-link" aria-label="Direct link to Tool calling" title="Direct link to Tool calling">​</a></h3>
<p>Sometimes text processing capabilities of LLMs are not enough. That&#x27;s when you may want to introduce tool calling (also called function calling). It allows model to use external tools to perform its tasks. The tools may be any arbitrary function that you want your model to run. It may retrieve some data from 3rd party API. It may do an action inside an app like pressing buttons or filling forms, or it may use system APIs to interact with your phone (turning on flashlight, adding events to your calendar, changing volume etc.).</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">TOOL_DEFINITIONS</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token maybe-class-name">LLMTool</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    name</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;get_weather&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Get/check weather in given location.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    parameters</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;dict&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      properties</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token dom variable" style="color:var(--swm-red-light-80)">location</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;string&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Location where user wants to check weather&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      required</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;location&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">HAMMER2_1_1_5B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">handleGenerate</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> chat</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;system&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">You are a helpful assistant. Current time and date: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">${</span><span class="token template-string interpolation keyword" style="color:var(--swm-blue-light-80)">new</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation class-name">Date</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token template-string interpolation function" style="color:var(--swm-purple-light-80)">toString</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      role</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;user&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      content</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">Hi, what&#x27;s the weather like in Cracow right now?</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// Chat completion</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">generate</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">chat</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">TOOL_DEFINITIONS</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token function" style="color:var(--swm-purple-light-80)">useEffect</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// Parse response and call tools accordingly</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Button</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:var(--swm-green-light-80)">=</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token tag script language-javascript" style="color:var(--swm-navy-light-40)">handleGenerate</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--swm-green-light-80)">=</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag attr-value" style="color:var(--swm-red-light-80)">Generate!</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managed-llm-chat">Managed LLM Chat<a href="#managed-llm-chat" class="hash-link" aria-label="Direct link to Managed LLM Chat" title="Direct link to Managed LLM Chat">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuring-the-model">Configuring the model<a href="#configuring-the-model" class="hash-link" aria-label="Direct link to Configuring the model" title="Direct link to Configuring the model">​</a></h3>
<p>To configure model (i.e. change system prompt, load initial conversation history or manage tool calling) you can use
<code>configure</code> function. It accepts object with following fields:</p>
<p><strong><code>chatConfig</code></strong> - Object configuring chat management, contains following properties:</p>
<ul>
<li>
<p><strong><code>systemPrompt</code></strong> - Often used to tell the model what is its purpose, for example - &quot;Be a helpful translator&quot;.</p>
</li>
<li>
<p><strong><code>initialMessageHistory</code></strong> - An array of <code>Message</code> objects that represent the conversation history. This can be used to provide initial context to the model.</p>
</li>
<li>
<p><strong><code>contextWindowLength</code></strong> - The number of messages from the current conversation that the model will use to generate a response. The higher the number, the more context the model will have. Keep in mind that using larger context windows will result in longer inference time and higher memory usage.</p>
</li>
</ul>
<p><strong><code>toolsConfig</code></strong> - Object configuring options for enabling and managing tool use. <strong>It will only have effect if your model&#x27;s chat template support it</strong>. Contains following properties:</p>
<ul>
<li>
<p><strong><code>tools</code></strong> - List of objects defining tools.</p>
</li>
<li>
<p><strong><code>executeToolCallback</code></strong> - Function that accepts <code>ToolCall</code>, executes tool and returns the string to model.</p>
</li>
<li>
<p><strong><code>displayToolCalls</code></strong> - If set to true, JSON tool calls will be displayed in chat. If false, only answers will be displayed.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sending-a-message">Sending a message<a href="#sending-a-message" class="hash-link" aria-label="Direct link to Sending a message" title="Direct link to Sending a message">​</a></h3>
<p>In order to send a message to the model, one can use the following code:</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">LLAMA3_2_1B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">send</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> message </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Hi, who are you?&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">sendMessage</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Button</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:var(--swm-green-light-80)">=</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token tag script language-javascript" style="color:var(--swm-navy-light-40)">send</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--swm-green-light-80)">=</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag attr-value" style="color:var(--swm-red-light-80)">Generate!</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">/&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="accessing-conversation-history">Accessing conversation history<a href="#accessing-conversation-history" class="hash-link" aria-label="Direct link to Accessing conversation history" title="Direct link to Accessing conversation history">​</a></h3>
<p>Behind the scenes, tokens are generated one by one, and the <code>response</code> property is updated with each token as it’s created.
If you want to get entire conversation you can use <code>messageHistory</code> field:</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">messageHistory</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">map</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tool-calling-example">Tool calling example<a href="#tool-calling-example" class="hash-link" aria-label="Direct link to Tool calling example" title="Direct link to Tool calling example">​</a></h3>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">TOOL_DEFINITIONS</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token maybe-class-name">LLMTool</span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    name</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;get_weather&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Get/check weather in given location.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    parameters</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;dict&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      properties</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token dom variable" style="color:var(--swm-red-light-80)">location</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;string&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Location where user wants to check weather&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      required</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;location&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">HAMMER2_1_1_5B</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token function" style="color:var(--swm-purple-light-80)">useEffect</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">configure</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    chatConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      systemPrompt</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">You are helpful assistant. Current time and date: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">${</span><span class="token template-string interpolation keyword" style="color:var(--swm-blue-light-80)">new</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation class-name">Date</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token template-string interpolation function" style="color:var(--swm-purple-light-80)">toString</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token template-string interpolation punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    toolsConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      tools</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">TOOL_DEFINITIONS</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">executeToolCallback</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">call</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token keyword" style="color:var(--swm-blue-light-80)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">call</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">toolName</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">===</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;get_weather&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          </span><span class="token console class-name">console</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">log</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Checking weather!&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// perform call to weather API</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> mockResults </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Weather is great!&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">          </span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> mockResults</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">null</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      displayToolCalls</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token boolean" style="color:var(--swm-red-light-80)">true</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">send</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> message </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">Hi, what&#x27;s the weather like in Cracow right now?</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">sendMessage</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Button</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:var(--swm-green-light-80)">=</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token tag script language-javascript" style="color:var(--swm-navy-light-40)">send</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--swm-green-light-80)">=</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag attr-value" style="color:var(--swm-red-light-80)">Generate!</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="structured-output-example">Structured output example<a href="#structured-output-example" class="hash-link" aria-label="Direct link to Structured output example" title="Direct link to Structured output example">​</a></h3>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token keyword" style="color:var(--swm-blue-light-80)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Schema</span><span class="token imports"> </span><span class="token imports punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">from</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;jsonschema&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> responseSchema</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Schema</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  properties</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    username</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;string&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Name of user, that is asking a question.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    question</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;string&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Question that user asks.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    bid</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;number&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Amount of money, that user offers.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    currency</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;string&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Currency of offer.&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  required</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;username&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;bid&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  type</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;object&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// alternatively use Zod</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">import</span><span class="token plain"> </span><span class="token imports operator" style="color:var(--swm-red-light-80)">*</span><span class="token imports"> </span><span class="token imports keyword module" style="color:var(--swm-blue-light-80)">as</span><span class="token imports"> z</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">from</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;zod/v4&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> responseSchemaWithZod </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">object</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  username</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> z</span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">meta</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Name of user, that is asking a question.&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  question</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">optional</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">meta</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Question that user asks.&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  bid</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">number</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">meta</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Amount of money, that user offers.&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  currency</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">optional</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">z</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">string</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">meta</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> description</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Currency of offer.&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> llm </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">useLLM</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"> model</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--swm-red-light-80)">QWEN3_4B_QUANTIZED</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token function" style="color:var(--swm-purple-light-80)">useEffect</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> formattingInstructions </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">getStructuredOutputPrompt</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">responseSchema</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// alternatively pass schema defined with Zod</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">//  const formattingInstructions = getStructuredOutputPrompt(responseSchemaWithZod);</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// Some extra prompting to improve quality of response.</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> prompt </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">Your goal is to parse user&#x27;s messages and return them in JSON format. Don&#x27;t respond to user. Simply return JSON with user&#x27;s question parsed. \n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">${</span><span class="token template-string interpolation">formattingInstructions</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">\n /no_think</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">configure</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    chatConfig</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      systemPrompt</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> prompt</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token function" style="color:var(--swm-purple-light-80)">useEffect</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> lastMessage </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">messageHistory</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">at</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token operator" style="color:var(--swm-red-light-80)">-</span><span class="token number" style="color:var(--swm-red-light-80)">1</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token operator" style="color:var(--swm-red-light-80)">!</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">isGenerating</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">&amp;&amp;</span><span class="token plain"> lastMessage</span><span class="token operator" style="color:var(--swm-red-light-80)">?.</span><span class="token plain">role </span><span class="token operator" style="color:var(--swm-red-light-80)">===</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;assistant&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token keyword" style="color:var(--swm-blue-light-80)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> formattedOutput </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">fixAndValidateStructuredOutput</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        lastMessage</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        responseSchemaWithZod</span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token comment" style="color:var(--swm-navy-light-60);font-style:italic">// Zod will allow you to correctly type output</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> formattedOutputWithZod </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token function" style="color:var(--swm-purple-light-80)">fixAndValidateStructuredOutput</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        lastMessage</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        responseSchema</span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">log</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token string" style="color:var(--swm-navy-light-40)">&#x27;Formatted output:&#x27;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> formattedOutput</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> formattedOutputWithZod</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--swm-blue-light-80)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">log</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        </span><span class="token string" style="color:var(--swm-navy-light-40)">&quot;Error parsing output and/or output doesn&#x27;t match required schema!&quot;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">        e</span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">      </span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">    </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">[</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">messageHistory</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"> llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">isGenerating</span><span class="token punctuation" style="color:var(--swm-green-light-80)">]</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:var(--swm-purple-light-80)">send</span><span class="token plain"> </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:var(--swm-red-light-80)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token keyword" style="color:var(--swm-blue-light-80)">const</span><span class="token plain"> message </span><span class="token operator" style="color:var(--swm-red-light-80)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token template-string string" style="color:var(--swm-navy-light-40)">I&#x27;m John. Is this product damaged? I can give you $100 for this.</span><span class="token template-string template-punctuation string" style="color:var(--swm-navy-light-40)">`</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token method function property-access" style="color:var(--swm-purple-light-80)">sendMessage</span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token keyword" style="color:var(--swm-blue-light-80)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--swm-green-light-80)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Button</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:var(--swm-green-light-80)">=</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token tag script language-javascript" style="color:var(--swm-navy-light-40)">send</span><span class="token tag script language-javascript punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag attr-name" style="color:var(--swm-blue-light-80)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:var(--swm-green-light-80)">=</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag attr-value" style="color:var(--swm-red-light-80)">Generate!</span><span class="token tag attr-value punctuation" style="color:var(--swm-green-light-80)">&quot;</span><span class="token tag" style="color:var(--swm-navy-light-40)"> </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain">llm</span><span class="token punctuation" style="color:var(--swm-green-light-80)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">Text</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&lt;/</span><span class="token tag class-name" style="color:var(--swm-navy-light-40)">View</span><span class="token tag punctuation" style="color:var(--swm-green-light-80)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">)</span><span class="token punctuation" style="color:var(--swm-green-light-80)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The response should include JSON:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--swm-navy-light-40)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:var(--swm-navy-light-40)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token punctuation" style="color:var(--swm-green-light-80)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token property" style="color:var(--swm-blue-light-80)">&quot;username&quot;</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&quot;John&quot;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token property" style="color:var(--swm-blue-light-80)">&quot;question&quot;</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&quot;Is this product damaged?&quot;</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token property" style="color:var(--swm-blue-light-80)">&quot;bid&quot;</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token number" style="color:var(--swm-red-light-80)">100</span><span class="token punctuation" style="color:var(--swm-green-light-80)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain">  </span><span class="token property" style="color:var(--swm-blue-light-80)">&quot;currency&quot;</span><span class="token operator" style="color:var(--swm-red-light-80)">:</span><span class="token plain"> </span><span class="token string" style="color:var(--swm-navy-light-40)">&quot;USD&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--swm-navy-light-40)"><span class="token plain"></span><span class="token punctuation" style="color:var(--swm-green-light-80)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="available-models">Available models<a href="#available-models" class="hash-link" aria-label="Direct link to Available models" title="Direct link to Available models">​</a></h2>
<table><thead><tr><th>Model Family</th><th style="text-align:center">Sizes</th><th style="text-align:center">Quantized</th></tr></thead><tbody><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-hammer-2.1" target="_blank" rel="noopener noreferrer">Hammer 2.1</a></td><td style="text-align:center">0.5B, 1.5B, 3B</td><td style="text-align:center">✅</td></tr><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-qwen-2.5" target="_blank" rel="noopener noreferrer">Qwen 2.5</a></td><td style="text-align:center">0.5B, 1.5B, 3B</td><td style="text-align:center">✅</td></tr><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-qwen-3" target="_blank" rel="noopener noreferrer">Qwen 3</a></td><td style="text-align:center">0.6B, 1.7B, 4B</td><td style="text-align:center">✅</td></tr><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-phi-4-mini" target="_blank" rel="noopener noreferrer">Phi 4 Mini</a></td><td style="text-align:center">4B</td><td style="text-align:center">✅</td></tr><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-smolLm-2" target="_blank" rel="noopener noreferrer">SmolLM 2</a></td><td style="text-align:center">135M, 360M, 1.7B</td><td style="text-align:center">✅</td></tr><tr><td><a href="https://huggingface.co/software-mansion/react-native-executorch-llama-3.2" target="_blank" rel="noopener noreferrer">LLaMA 3.2</a></td><td style="text-align:center">1B, 3B</td><td style="text-align:center">✅</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="benchmarks">Benchmarks<a href="#benchmarks" class="hash-link" aria-label="Direct link to Benchmarks" title="Direct link to Benchmarks">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="model-size">Model size<a href="#model-size" class="hash-link" aria-label="Direct link to Model size" title="Direct link to Model size">​</a></h3>
<table><thead><tr><th>Model</th><th style="text-align:center">XNNPACK [GB]</th></tr></thead><tbody><tr><td>LLAMA3_2_1B</td><td style="text-align:center">2.47</td></tr><tr><td>LLAMA3_2_1B_SPINQUANT</td><td style="text-align:center">1.14</td></tr><tr><td>LLAMA3_2_1B_QLORA</td><td style="text-align:center">1.18</td></tr><tr><td>LLAMA3_2_3B</td><td style="text-align:center">6.43</td></tr><tr><td>LLAMA3_2_3B_SPINQUANT</td><td style="text-align:center">2.55</td></tr><tr><td>LLAMA3_2_3B_QLORA</td><td style="text-align:center">2.65</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="memory-usage">Memory usage<a href="#memory-usage" class="hash-link" aria-label="Direct link to Memory usage" title="Direct link to Memory usage">​</a></h3>
<table><thead><tr><th>Model</th><th style="text-align:center">Android (XNNPACK) [GB]</th><th style="text-align:center">iOS (XNNPACK) [GB]</th></tr></thead><tbody><tr><td>LLAMA3_2_1B</td><td style="text-align:center">3.2</td><td style="text-align:center">3.1</td></tr><tr><td>LLAMA3_2_1B_SPINQUANT</td><td style="text-align:center">1.9</td><td style="text-align:center">2</td></tr><tr><td>LLAMA3_2_1B_QLORA</td><td style="text-align:center">2.2</td><td style="text-align:center">2.5</td></tr><tr><td>LLAMA3_2_3B</td><td style="text-align:center">7.1</td><td style="text-align:center">7.3</td></tr><tr><td>LLAMA3_2_3B_SPINQUANT</td><td style="text-align:center">3.7</td><td style="text-align:center">3.8</td></tr><tr><td>LLAMA3_2_3B_QLORA</td><td style="text-align:center">4</td><td style="text-align:center">4.1</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inference-time">Inference time<a href="#inference-time" class="hash-link" aria-label="Direct link to Inference time" title="Direct link to Inference time">​</a></h3>
<table><thead><tr><th>Model</th><th style="text-align:center">iPhone 16 Pro (XNNPACK) [tokens/s]</th><th style="text-align:center">iPhone 13 Pro (XNNPACK) [tokens/s]</th><th style="text-align:center">iPhone SE 3 (XNNPACK) [tokens/s]</th><th style="text-align:center">Samsung Galaxy S24 (XNNPACK) [tokens/s]</th><th style="text-align:center">OnePlus 12 (XNNPACK) [tokens/s]</th></tr></thead><tbody><tr><td>LLAMA3_2_1B</td><td style="text-align:center">16.1</td><td style="text-align:center">11.4</td><td style="text-align:center">❌</td><td style="text-align:center">15.6</td><td style="text-align:center">19.3</td></tr><tr><td>LLAMA3_2_1B_SPINQUANT</td><td style="text-align:center">40.6</td><td style="text-align:center">16.7</td><td style="text-align:center">16.5</td><td style="text-align:center">40.3</td><td style="text-align:center">48.2</td></tr><tr><td>LLAMA3_2_1B_QLORA</td><td style="text-align:center">31.8</td><td style="text-align:center">11.4</td><td style="text-align:center">11.2</td><td style="text-align:center">37.3</td><td style="text-align:center">44.4</td></tr><tr><td>LLAMA3_2_3B</td><td style="text-align:center">❌</td><td style="text-align:center">❌</td><td style="text-align:center">❌</td><td style="text-align:center">❌</td><td style="text-align:center">7.1</td></tr><tr><td>LLAMA3_2_3B_SPINQUANT</td><td style="text-align:center">17.2</td><td style="text-align:center">8.2</td><td style="text-align:center">❌</td><td style="text-align:center">16.2</td><td style="text-align:center">19.4</td></tr><tr><td>LLAMA3_2_3B_QLORA</td><td style="text-align:center">14.5</td><td style="text-align:center">❌</td><td style="text-align:center">❌</td><td style="text-align:center">14.8</td><td style="text-align:center">18.1</td></tr></tbody></table>
<p>❌ - Insufficient RAM.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/software-mansion/react-native-executorch/edit/main/docs/docs/02-hooks/01-natural-language-processing/useLLM.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="_pagination_1dyly_1 pagination-nav__link pagination-nav__link--prev" href="/react-native-executorch/docs/next/category/natural-language-processing"><div class="_paginationSublabel_1dyly_20 _paginationPrevious_1dyly_29"><div class="_paginationArrow_1dyly_33"><img src="data:image/svg+xml,%3csvg%20width=&#x27;13&#x27;%20height=&#x27;10&#x27;%20viewBox=&#x27;0%200%2013%2010&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M1.68652%205H11.6865&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M5.68652%201L1.68652%205L5.68652%209&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="data:image/svg+xml,%3csvg%20width=&#x27;13&#x27;%20height=&#x27;10&#x27;%20viewBox=&#x27;0%200%2013%2010&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M1.68652%205H11.6865&#x27;%20stroke=&#x27;%23C1C6E5&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M5.68652%201L1.68652%205L5.68652%209&#x27;%20stroke=&#x27;%23C1C6E5&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="pagination-nav__sublabel">Previous</div></div><div class="pagination-nav__label">Natural Language Processing</div></a><a class="_pagination_1dyly_1 pagination-nav__link pagination-nav__link--next" href="/react-native-executorch/docs/next/hooks/natural-language-processing/useSpeechToText"><div class="_paginationSublabel_1dyly_20 _paginationNext_1dyly_25"><div class="_paginationArrow_1dyly_33"><img src="data:image/svg+xml,%3csvg%20width=&#x27;13&#x27;%20height=&#x27;10&#x27;%20viewBox=&#x27;0%200%2013%2010&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M11.6865%205H1.68652&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M7.68652%209L11.6865%205L7.68652%201&#x27;%20stroke=&#x27;%23001A72&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="data:image/svg+xml,%3csvg%20width=&#x27;13&#x27;%20height=&#x27;10&#x27;%20viewBox=&#x27;0%200%2013%2010&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cpath%20d=&#x27;M11.6865%205H1.68652&#x27;%20stroke=&#x27;%23C1C6E5&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3cpath%20d=&#x27;M7.68652%209L11.6865%205L7.68652%201&#x27;%20stroke=&#x27;%23C1C6E5&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-linecap=&#x27;round&#x27;%20stroke-linejoin=&#x27;round&#x27;/%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="pagination-nav__sublabel">Next</div></div><div class="pagination-nav__label">useSpeechToText</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><div class="TOCItemsWrapper_ahsN"><ul class="_tocItems_1hbbs_1 table-of-contents table-of-contents__left-border"><li><a href="#initializing" class="table-of-contents__link toc-highlight"><span>Initializing</span></a><ul class="_tocItems_1hbbs_1"><li><a href="#arguments" class="table-of-contents__link toc-highlight"><span>Arguments</span></a></li><li><a href="#returns" class="table-of-contents__link toc-highlight"><span>Returns</span></a></li></ul></li><li><a href="#functional-vs-managed" class="table-of-contents__link toc-highlight"><span>Functional vs managed</span></a></li><li><a href="#functional-way" class="table-of-contents__link toc-highlight"><span>Functional way</span></a><ul class="_tocItems_1hbbs_1"><li><a href="#simple-generation" class="table-of-contents__link toc-highlight"><span>Simple generation</span></a></li><li><a href="#interrupting-the-model" class="table-of-contents__link toc-highlight"><span>Interrupting the model</span></a></li><li><a href="#tool-calling" class="table-of-contents__link toc-highlight"><span>Tool calling</span></a></li></ul></li><li><a href="#managed-llm-chat" class="table-of-contents__link toc-highlight"><span>Managed LLM Chat</span></a><ul class="_tocItems_1hbbs_1"><li><a href="#configuring-the-model" class="table-of-contents__link toc-highlight"><span>Configuring the model</span></a></li><li><a href="#sending-a-message" class="table-of-contents__link toc-highlight"><span>Sending a message</span></a></li><li><a href="#accessing-conversation-history" class="table-of-contents__link toc-highlight"><span>Accessing conversation history</span></a></li><li><a href="#tool-calling-example" class="table-of-contents__link toc-highlight"><span>Tool calling example</span></a></li><li><a href="#structured-output-example" class="table-of-contents__link toc-highlight"><span>Structured output example</span></a></li></ul></li><li><a href="#available-models" class="table-of-contents__link toc-highlight"><span>Available models</span></a></li><li><a href="#benchmarks" class="table-of-contents__link toc-highlight"><span>Benchmarks</span></a><ul class="_tocItems_1hbbs_1"><li><a href="#model-size" class="table-of-contents__link toc-highlight"><span>Model size</span></a></li><li><a href="#memory-usage" class="table-of-contents__link toc-highlight"><span>Memory usage</span></a></li><li><a href="#inference-time" class="table-of-contents__link toc-highlight"><span>Inference time</span></a></li></ul></li></ul><div class="_hireUsContainer_1hbbs_17"><p>We are Software Mansion.</p><div class="_buttonContainer_1hbbs_31"><a href="https://swmansion.com/contact/projects?utm_source=rnos-docs&amp;utm_medium=sidebar" target="_self" class="_homepageButtonLink_1pnfr_22"><div class="_homepageButton_1pnfr_1 _homepageButtonNormal_1pnfr_10 _buttonTOCStyling_1pnfr_70 _buttonTOCBorderStyling_1pnfr_88">Hire us<div class="_arrow_1pnfr_52"><svg xmlns="http://www.w3.org/2000/svg" width="13" height="10" fill="none" viewBox="0 0 13 10"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11.687 5h-10M7.687 9l4-4-4-4"></path></svg></div></div></a></div></div></div></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright _footer_1mhqe_13"><a href="https://swmansion.com/" target="_blank"><div class="_footer__logo_1mhqe_52"><img src="data:image/svg+xml,%3csvg%20width=&#x27;74&#x27;%20height=&#x27;40&#x27;%20viewBox=&#x27;0%200%2074%2040&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cg%20clip-path=&#x27;url(%23clip0_738_266)&#x27;%3e%3cpath%20fill-rule=&#x27;evenodd&#x27;%20clip-rule=&#x27;evenodd&#x27;%20d=&#x27;M11.9946%200.115234H12.3739H72.8476H73.7652L73.7631%201.03209L73.7025%2027.4563L73.7016%2027.8326L73.4361%2028.0993L62.1541%2039.4327L61.8857%2039.7023H61.505H1.03123H0.115723V38.7876V12.3633V11.9844L0.383869%2011.7165L11.7265%200.383161L11.9946%200.115234ZM12.7531%201.94475L3.24145%2011.4486H61.1257L70.6374%201.94475H12.7531ZM71.927%203.24346L62.4205%2012.7422V36.5707L71.8723%2027.0759L71.927%203.24346ZM1.94674%2037.8728V13.2781H60.5895V37.8728H1.94674Z&#x27;%20fill=&#x27;%23001A72&#x27;/%3e%3cpath%20d=&#x27;M16.6804%2028.1822C16.6804%2030.1822%2015.4066%2031.8792%2012.1919%2031.8792C10.7968%2031.8792%209.70498%2031.5762%208.67383%2031.1519V28.4247C9.70498%2028.9701%2010.9787%2029.2731%2012.1312%2029.2731C13.1624%2029.2731%2013.7083%2028.9701%2013.7083%2028.364C13.7083%2026.5459%208.67383%2027.0913%208.67383%2023.3337C8.67383%2021.0307%2010.5542%2019.5762%2013.1017%2019.5762C14.1935%2019.5762%2015.164%2019.8186%2016.1951%2020.4247V23.3337C14.8001%2022.4853%2013.8296%2022.1822%2013.041%2022.1822C12.0705%2022.1822%2011.5853%2022.5459%2011.5853%2023.0913C11.5853%2024.8489%2016.6804%2024.1822%2016.6804%2028.1822Z&#x27;%20fill=&#x27;%23001A72&#x27;/%3e%3cpath%20d=&#x27;M36.7575%2019.8789L32.9362%2031.6365H30.0248L27.4166%2023.5759L24.869%2031.6365H21.9575L18.1362%2019.8789H21.4116L23.5346%2027.7577L26.0215%2019.8789H28.933L31.4198%2027.7577L33.5428%2019.8789C33.5428%2019.8789%2036.7575%2019.8789%2036.7575%2019.8789Z&#x27;%20fill=&#x27;%23001A72&#x27;/%3e%3cpath%20d=&#x27;M55.0149%2023.8792V31.6368H52.1641V24.3641C52.1641%2023.0913%2051.2543%2022.3641%2050.2838%2022.3641C49.2526%2022.3641%2048.4034%2023.0913%2048.4034%2024.3641V31.6368H45.492V24.3641C45.492%2023.0913%2044.5821%2022.3641%2043.6116%2022.3641C42.5805%2022.3641%2041.7313%2023.0913%2041.7313%2024.3641V31.6368H38.8198V19.8792H41.5493V20.7277C42.3985%2019.8792%2043.3083%2019.5762%2044.4002%2019.5762C45.6133%2019.5762%2046.7051%2020.1216%2047.4329%2021.0913C48.4034%2020.061%2049.6165%2019.5762%2051.0116%2019.5762C53.3165%2019.6368%2055.0149%2021.3944%2055.0149%2023.8792Z&#x27;%20fill=&#x27;%23001A72&#x27;/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id=&#x27;clip0_738_266&#x27;%3e%3crect%20width=&#x27;74&#x27;%20height=&#x27;40&#x27;%20fill=&#x27;white&#x27;/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--light_NVdE"><img src="data:image/svg+xml,%3csvg%20width=&#x27;74&#x27;%20height=&#x27;40&#x27;%20viewBox=&#x27;0%200%2074%2040&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cg%20clip-path=&#x27;url(%23clip0_738_215)&#x27;%3e%3cpath%20fill-rule=&#x27;evenodd&#x27;%20clip-rule=&#x27;evenodd&#x27;%20d=&#x27;M11.9946%200.115234H12.3739H72.8476H73.7652L73.7631%201.03209L73.7025%2027.4563L73.7016%2027.8326L73.4361%2028.0993L62.1541%2039.4327L61.8857%2039.7023H61.505H1.03123H0.115723V38.7876V12.3633V11.9844L0.383869%2011.7165L11.7265%200.383161L11.9946%200.115234ZM12.7531%201.94475L3.24145%2011.4486H61.1257L70.6374%201.94475H12.7531ZM71.927%203.24346L62.4205%2012.7422V36.5707L71.8723%2027.0759L71.927%203.24346ZM1.94674%2037.8728V13.2781H60.5895V37.8728H1.94674Z&#x27;%20fill=&#x27;%23F8F9FF&#x27;/%3e%3cpath%20d=&#x27;M16.6804%2028.1822C16.6804%2030.1822%2015.4066%2031.8792%2012.1919%2031.8792C10.7968%2031.8792%209.70498%2031.5762%208.67383%2031.1519V28.4247C9.70498%2028.9701%2010.9787%2029.2731%2012.1312%2029.2731C13.1624%2029.2731%2013.7083%2028.9701%2013.7083%2028.364C13.7083%2026.5459%208.67383%2027.0913%208.67383%2023.3337C8.67383%2021.0307%2010.5542%2019.5762%2013.1017%2019.5762C14.1935%2019.5762%2015.164%2019.8186%2016.1951%2020.4247V23.3337C14.8001%2022.4853%2013.8296%2022.1822%2013.041%2022.1822C12.0705%2022.1822%2011.5853%2022.5459%2011.5853%2023.0913C11.5853%2024.8489%2016.6804%2024.1822%2016.6804%2028.1822Z&#x27;%20fill=&#x27;%23F8F9FF&#x27;/%3e%3cpath%20d=&#x27;M36.7575%2019.8789L32.9362%2031.6365H30.0248L27.4166%2023.5759L24.869%2031.6365H21.9575L18.1362%2019.8789H21.4116L23.5346%2027.7577L26.0215%2019.8789H28.933L31.4198%2027.7577L33.5428%2019.8789C33.5428%2019.8789%2036.7575%2019.8789%2036.7575%2019.8789Z&#x27;%20fill=&#x27;%23F8F9FF&#x27;/%3e%3cpath%20d=&#x27;M55.0149%2023.8792V31.6368H52.1641V24.3641C52.1641%2023.0913%2051.2543%2022.3641%2050.2838%2022.3641C49.2526%2022.3641%2048.4034%2023.0913%2048.4034%2024.3641V31.6368H45.492V24.3641C45.492%2023.0913%2044.5821%2022.3641%2043.6116%2022.3641C42.5805%2022.3641%2041.7313%2023.0913%2041.7313%2024.3641V31.6368H38.8198V19.8792H41.5493V20.7277C42.3985%2019.8792%2043.3083%2019.5762%2044.4002%2019.5762C45.6133%2019.5762%2046.7051%2020.1216%2047.4329%2021.0913C48.4034%2020.061%2049.6165%2019.5762%2051.0116%2019.5762C53.3165%2019.6368%2055.0149%2021.3944%2055.0149%2023.8792Z&#x27;%20fill=&#x27;%23F8F9FF&#x27;/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id=&#x27;clip0_738_215&#x27;%3e%3crect%20width=&#x27;74&#x27;%20height=&#x27;40&#x27;%20fill=&#x27;white&#x27;/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e" class="_themedImage_hipmx_1 themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><p class=""><span class="_footer__brand_1mhqe_44">©<!-- --> <a href="https://swmansion.com/" target="_blank">Software Mansion</a> 2025<!-- -->.</span> All trademarks and copyrights belong to their respective owners.</p></div></div></div></footer></div>
</body>
</html>